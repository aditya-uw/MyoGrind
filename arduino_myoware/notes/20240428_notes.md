# Week (Sunday 4/28 - Saturday 5/4)
- Sunday, April 28:
    - ER created timing-mechanism branch that introduces framework for time recording an event
    - ER added code that defines data structure and writes data to a csv file locally on Arduino microSD card (adapter needed)
    - ER ordered microSD card adapter from Amazon
    - 
    - Data Storage and Handling:
        - Data Recording: Each sensor reading is recorded continuously and stored line-by-line in a CSV file (data.csv) with headers EventNumber, Timestamp, and SensorValue.
        - File Management: The data is stored on an SD card connected to the Arduino. Each new line in the file represents a sensor reading captured every 0.1 second during an event.
        - Event Tracking: Events are tracked by monitoring the sensor values. An event starts when the sensor value rises above 300 and is considered to have ended when the value does not exceed 300 for a continuous duration of one second.
    - Future Database Notes:
        - Database Name: BruxismEMGData
        - Table Name: sensor_readings
        - Columns:
            1. EventNumber
                - Type: Integer
                - Description: A unique identifier for each bruxism event. An event starts when the sensor value exceeds 300 and ends when the value stays below 300 for more than one second. This number increments with each new event.
                - Example: 1, 2, 3, ...
            2. Timestamp
                - Type: Timestamp
                - Description: The exact time at which a sensor reading was taken, measured in milliseconds since the Arduino started. This value helps in tracking when each specific reading occurred during an event.
                - Example: 1250, 1350, 1450, ...
            3. SensorValue
                - Type: Integer
                - Description: The value read from the EMG sensor. It reflects the muscle activity level at the time specified by the timestamp.
                - Example: 350, 360, 320, ...

- Monday, April 29, 2024
    - Since Arduino cannot support wifi over captive networks, switching tactics to send the event data from Arduino to mobile app using Bluetooth
    - Changing data type to JSON.  JSON string is sent via Bluetooth as soon as event recording is complete
    - Current workflow thesis:
        - Arduino collects sensor data, formats to JSON
        - Arduino sends to cell phone app over Bluetoother
        - cell phone app sends data to some kind of intermediary server (node.js?) or maybe a cloud function (AWS Lambda?) 
        - data then gets stored in RDS (or maybe something else?)
    - TODO:
        - look into the app being able to handle:
            * Bluetooth pairing and communication (this is not difficult and should be native to any Android or iOS app framework)
            * Uploading received data to the AWS RDS PostgreSQL database (will be done through node.js server or AWS lambda)
        - Android Studio has Bluetooth APIs to set up Bluetooth communication. Libraries like Retrofit or Volley for network operations to send data to your server (node.js server running on EC2 if I can make it work) or directly to your AWS RDS instance through an API endpoint (or maybe AWS Lambda function?).
        - From Ben Martinez: "You don't need an intermediate server. I'd run a database adapter (like psychopg2 for python, or knex for node) on your phone app. Then write directly to RDS. Psycopg or knex will let you connect to your database, and run raw SQL like 'INSERT INTO table ...' "
            - https://knexjs.org
            - https://github.com/knex/knex 
            